<!DOCTYPE html>
<html>
<head>
  <title>Presupuesto mecanizado</title>
</head>
<body>

<h2>Generar presupuesto</h2>

<form id="presupuestoForm">
  <label>Material (€):</label><br>
  <input type="number" id="material" required><br><br>

  <label>Horas de máquina:</label><br>
  <input type="number" id="horas" required><br><br>

  <label>Precio hora (€):</label><br>
  <input type="number" id="precioHora" required><br><br>

  <button type="submit">Calcular</button>
</form>

<h3 id="resultado"></h3>

<script>
document.getElementById("presupuestoForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const data = {
    material: document.getElementById("material").value,
    horas: document.getElementById("horas").value,
    precioHora: document.getElementById("precioHora").value,
  };

  const response = await fetch("https://TU_N8N/webhook/presupuesto", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data),
  });

  const result = await response.json();
  document.getElementById("resultado").innerText =
    "Presupuesto total: " + result.total + " €";
});
</script>

</body>
</html>
